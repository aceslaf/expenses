import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;
import java.util.Map;

import javax.swing.text.DateFormatter;


public class ExpensesCollection {
	
	private Map<Date,DailyExpense> allExpenses;
	
	public ExpensesCollection() {
		super();
	}
	
	public ExpensesCollection parseFromFie(String str)
	{
		String fileName = "temp.txt";

        // This will reference one line at a time
        String line = null;
        SimpleDateFormat  dateFormater = new SimpleDateFormat ("d.M.yyyy");
        try {
            // FileReader reads text files in the default encoding.
            FileReader fileReader = 
                new FileReader(fileName);

            // Always wrap FileReader in BufferedReader.
            BufferedReader bufferedReader = 
                new BufferedReader(fileReader);
            StringBuffer buffer = new StringBuffer();
            Date date1;
            Date date2;
            while((line = bufferedReader.readLine()) != null) {
                buffer.append(line);
                if(line.startsWith("#"))
                {
                	if(date1==null)
                	{
                		date1=dateFormater.
                	}
                }
            }    

            // Always close files.
            bufferedReader.close();            
        }
        catch(FileNotFoundException ex) {
            System.out.println(
                "Unable to open file '" + 
                fileName + "'");                
        }
        catch(IOException ex) {
            System.out.println(
                "Error reading file '" 
                + fileName + "'");                   
            // Or we could just do this: 
            // ex.printStackTrace();
        }
    }

	private void AddDailyExpense(DailyExpense newExpense)
	{
		DailyExpense existing =this.allExpenses.containsKey(newExpense.getDate())?this.allExpenses.get(newExpense.getDate()):null;
		DailyExpense combinedExpense;
		if(existing!=null)
		{
			if(!newExpense.getDate().equals(existing.getDate()))
			{
				throw new NullPointerException();
			}
			combinedExpense=newExpense.combine(existing);
		}else
		{
			combinedExpense=newExpense;
		}
		this.allExpenses.put(combinedExpense.getDate(), combinedExpense)
	}
	
	private DailyExpense getExpenseForDate(Date date)
	{
		return this.allExpenses.get(date);
	}
	
}
